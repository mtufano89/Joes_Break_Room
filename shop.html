<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Shop | Joe's Break Room</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />

  <!-- Main Styles -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- NAVBAR -->
  <header class="site-header">
   <div class="nav-container">
  <a href="index.html" class="brand-text">Joeâ€™s Break Room</a>

  <nav class="nav-links" aria-label="Main navigation">
    <a href="index.html" class="nav-link">Home</a>
    <a href="shop.html" class="nav-link active">Shop</a>
    <a href="#" class="nav-link">About</a>
    <a href="#" class="nav-link">Contact</a>
  </nav>

  <div class="nav-actions">
    <button class="nav-cart" aria-label="Open shopping cart">
      <span class="cart-icon">ðŸ›’</span>
      <span class="cart-count" id="cartCount">0</span>
    </button>

    <a href="shop.html" class="nav-cta">Shop Now</a>
  </div>
</div>

  </header>

  <main>
    <!-- SHOP HERO / INTRO -->
    <section class="shop-hero">
      <div class="shop-hero-inner">
        <h1 class="shop-title">Shop all graded hits</h1>
        <p class="shop-subtitle">
          Browse hand-picked graded PokÃ©mon and sports cards from Joeâ€™s collection.
          Filter by game, grade, or price and grab the cards you actually want.
        </p>

        <div class="shop-tags">
  <button class="tag-pill tag-active" data-filter="all">All cards</button>
  <button class="tag-pill" data-filter="pokemon">PokÃ©mon</button>
  <button class="tag-pill" data-filter="sports">Sports</button>
  <button class="tag-pill" data-filter="charizard">Charizard</button>
  <button class="tag-pill" data-filter="under-200">Under $200</button>
</div>


        <div class="shop-controls">
         <div class="shop-search">
  <input
    type="text"
    id="cardSearch"
    placeholder="Search by name, set, or gradeâ€¦"
    aria-label="Search cards" />
</div>


          <div class="shop-sort">
            <label for="sort">Sort by</label>
            <select id="sort" name="sort">
              <option value="featured">Featured</option>
              <option value="price-low-high">Price: Low to High</option>
              <option value="price-high-low">Price: High to Low</option>
              <option value="grade-high-low">Grade: High to Low</option>
            </select>
          </div>
        </div>
      </div>
    </section>

    <!-- PRODUCT GRID -->
    <section class="shop-grid-section">
      <div class="shop-grid">

     

    <!-- PRODUCT 1 -->
    <article class="product-card"
    data-id="1"
      data-name="1999 Charizard PSA 10"
      data-tags="pokemon charizard base set holo fire psa 10"
      data-price="8500"
      data-category="Pokemon">
      <div class="product-image-wrap">
        <img src="images/charizard.jpg" alt="1999 Chariard PSA 10" />
      </div>
      <p class="product-tag">PokÃ©mon Â· Featured Hit</p>
      <h2 class="product-name">1999 Charizard â€“ PSA 10</h2>
      <p class="product-meta">Base Set Â· Holo Â· Fire-type icon</p>
      <div class="product-bottom">
        <span class="product-price">$8,500</span>
        <button class="product-btn add-to-cart-btn">Add to cart</button>
      </div>
    </article>

    <!-- PRODUCT 2 -->
    <article class="product-card"
    data-id="2"
      data-name="Pikachu Graded 9"
      data-tags="pokemon pikachu modern graded 9 electric"
      data-price="140"
       data-category="Pokemon">
      <div class="product-image-wrap">
        <img src="images/pikachu.jpg" alt="Pikachu graded 9" />
      </div>
      <p class="product-tag">PokÃ©mon Â· Graded Gem</p>
      <h2 class="product-name">Pikachu â€“ Graded 9</h2>
      <p class="product-meta">Modern Â· Fan favorite Â· Electric</p>
      <div class="product-bottom">
        <span class="product-price">$140</span>
<button class="product-btn add-to-cart-btn">Add to cart</button>      </div>
    </article>

    <!-- PRODUCT 3 -->
    <article class="product-card"
    data-id="3"
      data-name="Drake Maye Gem Mint"
      data-tags="sports football drake maye gem mint mosaic stained glass rookie"
      data-price="220"
       data-category="Sports">
      <div class="product-image-wrap">
        <img src="images/drake_maye.jpg" alt="Drake Maye Gem Mint" />
      </div>
      <p class="product-tag">Sports Â· Alt-Art</p>
      <h2 class="product-name">Drake Maye â€“ Gem Mint</h2>
      <p class="product-meta">Rookie QB Â· Mosaic Stained Glass</p>
      <div class="product-bottom">
        <span class="product-price">$220</span>
<button class="product-btn add-to-cart-btn">Add to cart</button>      </div>
    </article>

    <!-- PRODUCT 4 -->
    <article class="product-card"
    data-id="4"
      data-name="Charizard PSA 9"
      data-tags="pokemon charizard vintage foil psa 9"
      data-price="3200"
       data-category="Pokemon">
      <div class="product-image-wrap">
        <img src="images/charizard.jpg" alt="Charizard PSA 9" />
      </div>
      <p class="product-tag">PokÃ©mon</p>
      <h2 class="product-name">Charizard â€“ PSA 9</h2>
      <p class="product-meta">Vintage foil Â· Great centering</p>
      <div class="product-bottom">
        <span class="product-price">$3,200</span>
<button class="product-btn add-to-cart-btn">Add to cart</button>      </div>
    </article>

    <!-- PRODUCT 5 -->
    <article class="product-card"
    data-id="5"
      data-name="Pikachu EX CGC 9.5"
      data-tags="pokemon pikachu ex cgc 9.5 full art lightning"
      data-price="95"
       data-category="Pokemon">
      <div class="product-image-wrap">
        <img src="images/pikachu.jpg" alt="Pikachu EX" />
      </div>
      <p class="product-tag">PokÃ©mon Â· Cute Hit</p>
      <h2 class="product-name">Pikachu EX â€“ CGC 9.5</h2>
      <p class="product-meta">Full art Â· Lightning holo</p>
      <div class="product-bottom">
        <span class="product-price">$95</span>
<button class="product-btn add-to-cart-btn">Add to cart</button>      </div>
    </article>

    <!-- PRODUCT 6 -->
    <article class="product-card"
      data-name="Drake Maye Silver Rookie"
      data-tags="sports football drake maye silver rookie prizm"
      data-price="180"
       data-category="Sports">
      <div class="product-image-wrap">
        <img src="images/drake_maye.jpg" alt="Drake Maye silver rookie" />
      </div>
      <p class="product-tag">Sports Â· QB</p>
      <h2 class="product-name">Drake Maye â€“ Silver Rookie</h2>
      <p class="product-meta">Prizm Â· Short print</p>
      <div class="product-bottom">
        <span class="product-price">$180</span>
<button class="product-btn add-to-cart-btn">Add to cart</button>      </div>
    </article>

    <!-- PRODUCT 7 -->
    <article class="product-card"
      data-name="Drake Maye Silver Rookie"
      data-id="7"
      data-tags="sports football drake maye silver rookie prizm"
      data-price="180"
       data-category="Sports">
      <div class="product-image-wrap">
        <img src="images/drake_maye.jpg" alt="Drake Maye silver rookie" />
      </div>
      <p class="product-tag">Sports Â· QB</p>
      <h2 class="product-name">Drake Maye â€“ Silver Rookie</h2>
      <p class="product-meta">Prizm Â· Short print</p>
      <div class="product-bottom">
        <span class="product-price">$180</span>
<button class="product-btn add-to-cart-btn">Add to cart</button>      </div>
    </article>

    <!-- PRODUCT 8 -->
    <article class="product-card"
      data-name="1999 Charizard PSA 10"
      data-id="8"
      data-tags="pokemon charizard base set holo fire psa 10"
      data-price="8500"
       data-category="Pokemon">
      <div class="product-image-wrap">
        <img src="images/charizard.jpg" alt="1999 Charizard PSA 10" />
      </div>
      <p class="product-tag">PokÃ©mon Â· Featured Hit</p>
      <h2 class="product-name">1999 Charizard â€“ PSA 10</h2>
      <p class="product-meta">Base Set Â· Holo Â· Fire-type icon</p>
      <div class="product-bottom">
        <span class="product-price">$8,500</span>
<button class="product-btn add-to-cart-btn">Add to cart</button>      </div>
    </article>

    <!-- PRODUCT 9 -->
    <article class="product-card"
      data-name="Pikachu Graded 9"
      data-id="9"
      data-tags="pokemon pikachu modern graded 9 electric"
      data-price="140"
       data-category="Pokemon">
      <div class="product-image-wrap">
        <img src="images/pikachu.jpg" alt="Pikachu graded 9" />
      </div>
      <p class="product-tag">PokÃ©mon Â· Graded Gem</p>
      <h2 class="product-name">Pikachu â€“ Graded 9</h2>
      <p class="product-meta">Modern Â· Fan favorite Â· Electric</p>
      <div class="product-bottom">
        <span class="product-price">$140</span>
<button class="product-btn add-to-cart-btn">Add to cart</button>      </div>
    </article>

    <!-- PRODUCT 10 -->
    <article class="product-card"
      data-name="Drake Maye Gem Mint"
      data-id="10"
      data-tags="sports football drake maye gem mint mosaic stained glass rookie"
      data-price="220"
       data-category="Sports">
      <div class="product-image-wrap">
        <img src="images/drake_maye.jpg" alt="Drake Maye Gem Mint" />
      </div>
      <p class="product-tag">Sports Â· Alt-Art</p>
      <h2 class="product-name">Drake Maye â€“ Gem Mint</h2>
      <p class="product-meta">Rookie QB Â· Mosaic Stained Glass</p>
      <div class="product-bottom">
        <span class="product-price">$220</span>
<button class="product-btn add-to-cart-btn">Add to cart</button>      </div>
    </article>

    <!-- PRODUCT 11 -->
    <article class="product-card"
      data-name="Charizard PSA 9"
      data-id="11"
      data-tags="pokemon charizard vintage foil psa 9"
      data-price="3200"
       data-category="Pokemon">
      <div class="product-image-wrap">
        <img src="images/charizard.jpg" alt="Charizard PSA 9" />
      </div>
      <p class="product-tag">PokÃ©mon</p>
      <h2 class="product-name">Charizard â€“ PSA 9</h2>
      <p class="product-meta">Vintage foil Â· Great centering</p>
      <div class="product-bottom">
        <span class="product-price">$3,200</span>
<button class="product-btn add-to-cart-btn">Add to cart</button>      </div>
    </article>

    <!-- PRODUCT 12 -->
    <article class="product-card"
      data-name="Pikachu EX CGC 9.5"
      data-id=""
      data-tags="pokemon pikachu ex cgc 9.5 full art lightning"
      data-price="95"
       data-category="Pokemon">
      <div class="product-image-wrap">
        <img src="images/pikachu.jpg" alt="Pikachu EX" />
      </div>
      <p class="product-tag">PokÃ©mon Â· Cute Hit</p>
      <h2 class="product-name">Pikachu EX â€“ CGC 9.5</h2>
      <p class="product-meta">Full art Â· Lightning holo</p>
      <div class="product-bottom">
        <span class="product-price">$95</span>
<button class="product-btn add-to-cart-btn">Add to cart</button>      </div>
    </article>

  </div>
</section>


  <!-- FOOTER -->
  <footer class="site-footer">
    Â© <span id="year"></span> Joeâ€™s Break Room. All rights reserved.
  </footer>

  <!-- CART DRAWER -->
<div class="cart-overlay" id="cartOverlay">
  <div class="cart-backdrop" id="cartBackdrop"></div>

  <div class="cart-panel">
    <button class="cart-close" id="cartClose" aria-label="Close cart">Ã—</button>
    <h2 class="cart-title">Your cart</h2>

    <div class="cart-items" id="cartItems">
      <p class="cart-empty">Your cart is empty. Add some slabs!</p>
    </div>

    <div class="cart-footer">
      <div class="cart-total-row">
        <span class="cart-total-label">Total</span>
        <span class="cart-total-value" id="cartTotal">$0</span>
      </div>
      <button class="cart-checkout-btn" id="cartCheckout">
        Checkout via email
      </button>
    </div>
  </div>
</div>


<script>
  // ===== GET MAIN ELEMENTS =====
  const searchInput = document.getElementById("cardSearch");
  const productCards = Array.from(document.querySelectorAll(".product-card"));
  const sortSelect = document.getElementById("sort");
  const grid = document.querySelector(".shop-grid");
  const filterPills = document.querySelectorAll(".tag-pill");

  const originalOrder = productCards.slice(); // for "Featured"

  // ===== FILTERS: SEARCH + PILLS =====
  function applyFilters() {
    const query = searchInput ? searchInput.value.toLowerCase().trim() : "";
    const activePill = document.querySelector(".tag-pill.tag-active");
    const filter = activePill ? activePill.dataset.filter : "all";

    productCards.forEach(card => {
      const name = (card.dataset.name || "").toLowerCase();
      const tags = (card.dataset.tags || "").toLowerCase();
      const category = (card.dataset.category || "").toLowerCase();
      const price = Number(card.dataset.price || 0);

      // search match
      const matchesSearch =
        !query || name.includes(query) || tags.includes(query);

      // pill match
      let matchesFilter = false;

      switch (filter) {
        case "all":
          matchesFilter = true;
          break;

        case "pokemon": {
          const hasPokemonCategory =
            category.includes("pokemon") || category.includes("pokÃ©mon");
          const hasPokemonTag =
            tags.includes("pokemon") || tags.includes("pokÃ©mon");
          matchesFilter = hasPokemonCategory || hasPokemonTag;
          break;
        }

        case "sports":
          matchesFilter = category.includes("sports") || tags.includes("sports");
          break;

        case "charizard":
          matchesFilter = tags.includes("charizard");
          break;

        case "under-200":
          matchesFilter = price > 0 && price < 200;
          break;

        default:
          matchesFilter = true;
      }

      if (matchesSearch && matchesFilter) {
        card.style.display = "";
      } else {
        card.style.display = "none";
      }
    });
  }

  if (searchInput) {
    searchInput.addEventListener("input", applyFilters);
  }

  // ===== SORT BY PRICE =====
  function sortCards() {
    const value = sortSelect ? sortSelect.value : "featured";
    let sorted = originalOrder.slice();

    if (value === "price-low-high") {
      sorted.sort((a, b) => Number(a.dataset.price) - Number(b.dataset.price));
    } else if (value === "price-high-low") {
      sorted.sort((a, b) => Number(b.dataset.price) - Number(a.dataset.price));
    }
    // "featured" keeps original order

    sorted.forEach(card => {
      grid.appendChild(card);
    });
  }

  if (sortSelect) {
    sortSelect.addEventListener("change", () => {
      sortCards();
      applyFilters();
    });
  }

  // ===== FILTER PILLS CLICK =====
  filterPills.forEach(pill => {
    pill.addEventListener("click", () => {
      filterPills.forEach(p => p.classList.remove("tag-active"));
      pill.classList.add("tag-active");
      applyFilters();
    });
  });

  // Run once on load
  applyFilters();

  // ===== CART LOGIC =====
  const cartOverlay = document.getElementById("cartOverlay");
  const cartBackdrop = document.getElementById("cartBackdrop");
  const cartClose = document.getElementById("cartClose");
  const cartItemsContainer = document.getElementById("cartItems");
  const cartTotalEl = document.getElementById("cartTotal");
  const cartCountEl = document.getElementById("cartCount");
  const cartCheckoutBtn = document.getElementById("cartCheckout");
  const navCartBtn = document.querySelector(".nav-cart");
  const addToCartButtons = document.querySelectorAll(".add-to-cart-btn");

  const cart = [];

  function openCart() {
    if (cartOverlay) {
      cartOverlay.classList.add("open");
    }
  }

  function closeCart() {
    if (cartOverlay) {
      cartOverlay.classList.remove("open");
    }
  }

  function updateCartUI() {
    // count + total
    let total = 0;
    let count = 0;

    cart.forEach(item => {
      total += item.price * item.qty;
      count += item.qty;
    });

    if (cartCountEl) {
      cartCountEl.textContent = count;
    }

    if (cartTotalEl) {
      cartTotalEl.textContent = `$${total.toLocaleString()}`;
    }

    // items list
    if (!cartItemsContainer) return;

    if (cart.length === 0) {
      cartItemsContainer.innerHTML =
        '<p class="cart-empty">Your cart is empty. Add some slabs!</p>';
      return;
    }

    cartItemsContainer.innerHTML = "";

    cart.forEach(item => {
      const row = document.createElement("div");
      row.className = "cart-item";
      row.innerHTML = `
        <div>
          <div class="cart-item-name">${item.name}</div>
          <div class="cart-item-qty">Qty: ${item.qty}</div>
        </div>
        <div class="cart-item-price">$${item.price.toLocaleString()}</div>
      `;
      cartItemsContainer.appendChild(row);
    });
  }

  function addToCart(card) {
    if (!card) return;
    const id = card.dataset.id;
    const name = card.dataset.name;
    const price = Number(card.dataset.price || 0);

    const existing = cart.find(item => item.id === id);

    if (existing) {
      existing.qty += 1;
    } else {
      cart.push({ id, name, price, qty: 1 });
    }

    updateCartUI();
  }

  // Wire up "Add to cart" buttons
  addToCartButtons.forEach(btn => {
    btn.addEventListener("click", event => {
      event.preventDefault();
      const card = btn.closest(".product-card");
      addToCart(card);
      openCart();
    });
  });

  // Cart open/close
  if (navCartBtn) navCartBtn.addEventListener("click", openCart);
  if (cartClose) cartClose.addEventListener("click", closeCart);
  if (cartBackdrop) cartBackdrop.addEventListener("click", closeCart);

  // Checkout via email
  if (cartCheckoutBtn) {
    cartCheckoutBtn.addEventListener("click", () => {
      if (cart.length === 0) return;

      const email = "joe@example.com"; // TODO: change to Joe's real email
      const subject = encodeURIComponent("Joe's Break Room - Cart checkout");

      const lines = cart.map(
        item => `${item.qty} x ${item.name} ($${item.price.toLocaleString()})`
      );
      const bodyText =
        "Hi Joe,%0D%0A%0D%0AI'd like to purchase the following cards:%0D%0A%0D%0A" +
        lines.join("%0D%0A") +
        "%0D%0A%0D%0AThanks!";

      const mailtoLink = `mailto:${email}?subject=${subject}&body=${bodyText}`;
      window.location.href = mailtoLink;
    });
  }
</script>




</body>
</html>
